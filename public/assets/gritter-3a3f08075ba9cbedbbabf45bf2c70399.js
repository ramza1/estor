window.Modernizr=function(e,t,i){function r(e,t){var i=e.charAt(0).toUpperCase()+e.substr(1),r=(e+" "+v.join(i+" ")+i).split(" ");return n(r,t)}function n(e,t){for(var r in e)if(h[e[r]]!==i)return"pfx"==t?e[r]:!0;return!1}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){return typeof e===t}function a(e){h.cssText=e}var c,u,_,d="2.0.6",p={},l=t.documentElement,f=(t.head||t.getElementsByTagName("head")[0],"modernizr"),m=t.createElement(f),h=m.style,v=(Object.prototype.toString,"Webkit Moz O ms Khtml".split(" ")),g={},y=[],b=function(e,i,r,n){var o,s,a,c=t.createElement("div");if(parseInt(r,10))for(;r--;)a=t.createElement("div"),a.id=n?n[r]:f+(r+1),c.appendChild(a);return o=["&shy;","<style>",e,"</style>"].join(""),c.id=f,c.innerHTML+=o,l.appendChild(c),s=i(c,e),c.parentNode.removeChild(c),!!s},w={}.hasOwnProperty;_=s(w,i)||s(w.call,i)?function(e,t){return t in e&&s(e.constructor.prototype[t],i)}:function(e,t){return w.call(e,t)},g.rgba=function(){return a("background-color:rgba(150,255,150,.5)"),o(h.backgroundColor,"rgba")},g.borderradius=function(){return r("borderRadius")};for(var x in g)_(g,x)&&(u=x.toLowerCase(),p[u]=g[x](),y.push((p[u]?"":"no-")+u));return a(""),m=c=null,p._version=d,p._domPrefixes=v,p.testProp=function(e){return n([e])},p.testAllProps=r,p.testStyles=b,p}(this,this.document),function(e){e.gritter={},e.gritter.options={position:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},e.gritter.add=function(e){try{return r.add(e||{})}catch(t){var i="Gritter Error: "+t;"undefined"!=typeof console&&console.error?console.error(i,e):alert(i)}},e.gritter.remove=function(e,t){r.removeSpecific(e,t||{})},e.gritter.removeAll=function(e){r.stop(e||{})};var t,i='[[close]][[image]]<div class="[[class_name]]"><span class="gritter-title">[[username]]</span><p>[[text]]</p></div><div style="clear:both"></div>';t=Modernizr.borderradius&&Modernizr.rgba?'<div class="gritter-item gritter-css3">'+i+"</div>":'<div class="gritter-top"></div><div class="gritter-item gritter-css2">'+i+'</div><div class="gritter-bottom"></div>';var r={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none">'+t+"</div>",_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(t){if(!t.title||!t.text)throw'You need to fill out the first 2 params: "title" and "text"';this._is_setup||this._runSetup();var i=t.title,n=t.text,o=t.image||"",s=t.sticky||!1,a=t.class_name||"",c=e.gritter.options.position,u=t.time||"";this._verifyWrapper(),this._item_count++;var _=this._item_count,d=this._tpl_item;e(["before_open","after_open","before_close","after_close"]).each(function(i,n){r["_"+n+"_"+_]=e.isFunction(t[n])?t[n]:function(){}}),this._custom_timer=0,u&&(this._custom_timer=u);var p=""!=o?'<img src="'+o+'" class="gritter-image" />':"",l=""!=o?"gritter-with-image":"gritter-without-image";d=this._str_replace(["[[username]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[i,n,this._tpl_close,p,this._item_count,l,a],d),this["_before_open_"+_](),e("#gritter-notice-wrapper").addClass(c).append(d);var f=e("#gritter-item-"+this._item_count);return f.fadeIn(this.fade_in_speed,function(){r["_after_open_"+_](e(this))}),s||this._setFadeTimer(f,_),e(f).bind("mouseenter mouseleave",function(t){"mouseenter"==t.type?s||r._restoreItemIfFading(e(this),_):s||r._setFadeTimer(e(this),_),r._hoverState(e(this),t.type)}),_},_countRemoveWrapper:function(t,i,r){i.remove(),this["_after_close_"+t](i,r),0==e(".gritter-item-wrapper").length&&e("#gritter-notice-wrapper").remove()},_fade:function(e,t,i,n){var i=i||{},o="undefined"!=typeof i.fade?i.fade:!0;fade_out_speed=i.speed||this.fade_out_speed,manual_close=n,this["_before_close_"+t](e,manual_close),n&&e.unbind("mouseenter mouseleave"),o?e.fadeOut(fade_out_speed,function(){e.animate({height:0},300,function(){r._countRemoveWrapper(t,e,manual_close)})}):this._countRemoveWrapper(t,e)},_hoverState:function(e,t){"mouseenter"==t?(e.addClass("hover"),e.find(".gritter-close").show(),e.find(".gritter-close").click(function(){var t=e.attr("id").split("-")[2];r.removeSpecific(t,{},e,!0)})):(e.removeClass("hover"),e.find(".gritter-close").hide())},removeSpecific:function(t,i,r,n){if(!r)var r=e("#gritter-item-"+t);this._fade(r,t,i||{},n)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:""})},_runSetup:function(){for(opt in e.gritter.options)this[opt]=e.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(e,t){var i=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+t]=setTimeout(function(){r._fade(e,t)},i)},stop:function(t){var i=e.isFunction(t.before_close)?t.before_close:function(){},r=e.isFunction(t.after_close)?t.after_close:function(){},n=e("#gritter-notice-wrapper");i(n),n.fadeOut(function(){e(this).remove(),r()})},_str_replace:function(e,t,i,r){var n=0,o=0,s="",a="",c=0,u=0,_=[].concat(e),d=[].concat(t),p=i,l=d instanceof Array,f=p instanceof Array;for(p=[].concat(p),r&&(this.window[r]=0),n=0,c=p.length;c>n;n++)if(""!==p[n])for(o=0,u=_.length;u>o;o++)s=p[n]+"",a=l?void 0!==d[o]?d[o]:"":d[0],p[n]=s.split(_[o]).join(a),r&&p[n]!==s&&(this.window[r]+=(s.length-p[n].length)/_[o].length);return f?p:p[0]},_verifyWrapper:function(){0==e("#gritter-notice-wrapper").length&&e("body").append(this._tpl_wrap)}}}(jQuery);