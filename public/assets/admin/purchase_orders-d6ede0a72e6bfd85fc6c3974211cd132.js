var Hadean=window.Hadean||{};"undefined"==typeof Hadean.Admin&&(Hadean.Admin={}),"undefined"==typeof Hadean.Admin.purchaseOrder&&(Hadean.Admin.purchaseOrder={initialize:function(){jQuery(".chzn-select").chosen(),jQuery(".add_variant").bind("click",function(){var e=$(this).attr("data-association"),a=$("#"+e+"_fields_template").html(),n=new RegExp("new_"+e,"g"),t=(new Date).getTime();return $(this).parent().before(a.replace(n,t)),jQuery("#purchase_order_purchase_order_variants_attributes_"+t+"_variant_id").addClass("chzn-select"),jQuery(".chzn-select").chosen({allow_single_deselect:!0,no_results_text:"No results matched",width:"200px"}),!1}),jQuery(".select_variants").on("change",function(){return Hadean.Admin.purchaseOrder.prefillCost(this),!1})},prefillCost:function(e){jQuery.ajax({type:"GET",url:"/admin/merchandise/products/0/variants/"+$(e).val(),complete:function(a){variant=JSON.parse(a.responseText).variant,variant.cost,$("#"+e.id.replace("variant_id","cost")).val(variant.cost)},dataType:"json"})}},jQuery(function(){Hadean.Admin.purchaseOrder.initialize()}));